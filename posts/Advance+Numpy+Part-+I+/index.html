<!DOCTYPE html>
<html lang="en">
<head>
  
	<title> Advance NumPy Part-I - Sajjan's Blog </title>
	<meta name="description" content="NumPy stands for Numerical Python which provides a vast type of methods to deal with data. Some advance method used in Numpy are..">
	<meta name="keywords" content="Advance NumPy, NumPy Broadcasting, array broadcasting, Numpy reshape(), NumPy newaxis(), C Versus Fortan Order Python, Python ravel() or flatten(),Concatenating and Splitting Arrays, array repetition, Broadcasting Rule">
	<meta name="author" content="Sajjan Kumar" >
	

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="../../static/img/sajjan.jpg">

  <link rel="stylesheet" href="../../static/css/main.css">
  <link rel="stylesheet" href="../../static/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../static/css/sticky-footer-navbar.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js">
  </script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-86150938-1', 'auto');
  ga('send', 'pageview');
  </script>
  
  
 <link rel="stylesheet" type="text/css" href="../../static/css/blog_post.css ">




</head>
<body>
<nav class="navbar navbar-default" style="margin: 0px "> 
  <div class="container-fluid">

  <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html"> Posts </a>
  </div>
  <div class="collapse navbar-collapse" id="myNavbar"> 
    <ul class="nav navbar-nav">

      <li><a href="../../resume">Resume</a></li>
      <li><a href="../../resume">About</a></li>
      
    </ul>
    
    <ul class="nav navbar-nav navbar-right">
      <li> <a href="https://github.com/ksajjan" target="_blank">
      <img src="../../static/img/github.png" style="width: 30px; height=30px"> 
      </a> </li>
      <li> <a href="https://www.linkedin.com/in/sajjan-kumar-a38187a6" target="_blank">
      <img src="../../static/img/LinkedIn.png" style="width: 30px; height=30px"> 
      </a></li>
      <li> <a href="https://twitter.com/sajjkum" target="_blank">
      <img src="../../static/img/Twitter.png" style="width: 30px; height=30px"> 
      </a></li>

    </ul>
  </div>
  </div>
</nav>




	<div class="single_blog_post">
		<h2 class="post_heading"> Advance NumPy Part-I  </h2>
		<p class="post_description">
			<p>NumPy stands for Numerical Python which is widely used for scientific calculation for its advance interface for array manipulation. From Broadcasting to other tools it became quite handy when one is dealing with large data set.
So let's start exploring Numpy features in this notebook with first importing numpy.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">randn</span>
</pre></div>


<p>You may occasionally have some data set(usually array) for which you need to check whether data set contains integers, floating point numbers, strings, or Python objects. For this <i> <b> np.issubdtype(array, datatype) </b> </i> is used. Let's code for this.</p>
<p>Define our test array</p>
<div class="codehilite"><pre><span></span>arr1= np.ones(10, dtype= np.uint16)

arr2= np.ones(10, dtype= np.float32)

arr3= [1,2,3,4,5]
</pre></div>


<p>Now to Checking wheather a data set have a specific datatype using np.issubdtype() fucntion</p>
<div class="codehilite"><pre><span></span>print np.issubdtype(arr1.dtype,np.integer)
print np.issubdtype(arr2.dtype, np.integer)
print np.issubdtype(arr2.dtype, np.floating)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>True
False
True
</pre></div>


<h1>Array Manipulation</h1>
<p>Numpy provide ease with Array Manipulation. Here are some handy feature of Numpy Array Manipulation.Let's First talk about Reshaping Array.</p>
<h3>Reshaping Arrays</h3>
<p>while using <strong>.reshape()</strong> function, we should keep in mind that overall shape of array shouldn't be changed. the input of this function is the dimension in which we want to convert the array.</p>
<p>First define sample array </p>
<div class="codehilite"><pre><span></span>arr3= np.arange(18)
arr3
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
       17])
</pre></div>


<p>Now Let's reshape it into [9,2] size.</p>
<div class="codehilite"><pre><span></span>arr3.reshape((9,2))
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 0,  1],
       [ 2,  3],
       [ 4,  5],
       [ 6,  7],
       [ 8,  9],
       [10, 11],
       [12, 13],
       [14, 15],
       [16, 17]])
</pre></div>


<p>Let's change this into [2,9] size.</p>
<div class="codehilite"><pre><span></span>arr3.reshape((2,9))
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8],
       [ 9, 10, 11, 12, 13, 14, 15, 16, 17]])
</pre></div>


<p>Again Change the shape of array to a different size.</p>
<div class="codehilite"><pre><span></span>arr3.reshape((3,6))
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 0,  1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10, 11],
       [12, 13, 14, 15, 16, 17]])
</pre></div>


<p><strong>One of the passed dimensions in .reshape() can be -1, in that case value used for that dimension will be taken from the data.</strong>
See the example below</p>
<div class="codehilite"><pre><span></span>arr4 = np.arange(30)
arr4
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
       17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29])
</pre></div>


<p>Now Let's reshape using -1 as a dimension </p>
<div class="codehilite"><pre><span></span>arr4.reshape((5,-1))
</pre></div>


<p>here to complete the array size, in-place of -1 it should be 6 so reshape((5,-1)) will interrupt -1 as 6 and then proceed. </p>
<p>Output: </p>
<div class="codehilite"><pre><span></span>array([[ 0,  1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10, 11],
       [12, 13, 14, 15, 16, 17],
       [18, 19, 20, 21, 22, 23],
       [24, 25, 26, 27, 28, 29]])
</pre></div>


<p>Check another example :</p>
<div class="codehilite"><pre><span></span>arr4.reshape((3,-1))
</pre></div>


<p>Here to complete the array size their should be 10 instead of -1.</p>
<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9],
       [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],
       [20, 21, 22, 23, 24, 25, 26, 27, 28, 29]])
</pre></div>


<p>Next example:</p>
<div class="codehilite"><pre><span></span>arr4.reshape((-1,2))
</pre></div>


<p>Output: </p>
<div class="codehilite"><pre><span></span>array([[ 0,  1],
       [ 2,  3],
       [ 4,  5],
       [ 6,  7],
       [ 8,  9],
       [10, 11],
       [12, 13],
       [14, 15],
       [16, 17],
       [18, 19],
       [20, 21],
       [22, 23],
       [24, 25],
       [26, 27],
       [28, 29]])
</pre></div>


<h3>Reshaping array with numpy.newaxis() method:</h3>
<p><strong>newaxias()</strong> is used to create a new axis(dimension) in the array to fit the broadcast rule.Check example below </p>
<div class="codehilite"><pre><span></span>array= randn(2,3)
array.shape
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>(2, 3)
</pre></div>


<p>Now let's create a new axis.</p>
<div class="codehilite"><pre><span></span>array2= array[:,np.newaxis, :]
array2.shape
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>(2, 1, 3)
</pre></div>


<p><b> Numpy </b> provide the opposite operation of reshape (i.e from higher dimension to one-dimensional). This is also known as flattening or raveling.
Their are two methods.</p>
<ol>
<li>ravel() <br></li>
<li>
<p>flatten() <br>
see the example below</p>
<p>arr5= np.ones((5,3), dtype= np.uint16)
arr5</p>
</li>
</ol>
<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[1, 1, 1],
       [1, 1, 1],
       [1, 1, 1],
       [1, 1, 1],
       [1, 1, 1]], dtype=uint16)
</pre></div>


<p>Now </p>
<div class="codehilite"><pre><span></span>arr5.ravel()
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], dtype=uint16)
</pre></div>


<p>For flatten()</p>
<div class="codehilite"><pre><span></span>arr5.flatten()
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], dtype=uint16)
</pre></div>


<p>ravel() does not produce a copy of data if it does not have to While, the flatten() method always return a copy of the data.</p>
<h3>C Versus Fortan Order</h3>
<div class="codehilite"><pre><span></span>arr4
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
       17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29])
</pre></div>


<p>With order F:</p>
<div class="codehilite"><pre><span></span>arr4.reshape((3,10), order=&#39;F&#39;)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 0,  3,  6,  9, 12, 15, 18, 21, 24, 27],
       [ 1,  4,  7, 10, 13, 16, 19, 22, 25, 28],
       [ 2,  5,  8, 11, 14, 17, 20, 23, 26, 29]])
</pre></div>


<p>when reshaping with order F, data is append column by column.</p>
<div class="codehilite"><pre><span></span>arr4.reshape((3,10), order=&#39;C&#39;) # order &#39;C&#39; is by default
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9],
       [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],
       [20, 21, 22, 23, 24, 25, 26, 27, 28, 29]])
</pre></div>


<p>When reshaping with order C, data is append raw by raw.</p>
<p>The Key difference between C and Fortran order is the order in which the dimensions are traversed:</p>
<p><b> C order </b> Traverse Higher dimensions first (i.e axis 1 before advancing on axis 0). [Raw major order]</p>
<p><b> Fortan Order </b> Traverse Higher dimensions last(i.e axis 0 before advancing on axis 1) [ column major order]</p>
<h3>Concatenating and Splitting Arrays</h3>
<p>Numpy provides 2 types of concatenation of arrays.First is along axis=0 and other is along axis=1.<br>
see the example below</p>
<div class="codehilite"><pre><span></span>arr6= np.array([[1,2,3,4,5],[6,7,8,9,10]])
arr6
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10]])
</pre></div>


<p>Our second array:</p>
<div class="codehilite"><pre><span></span>arr7= np.array([[11,12,13,14,15],[16,17,18,19,20]])
arr7
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[11, 12, 13, 14, 15],
       [16, 17, 18, 19, 20]])
</pre></div>


<p>Now Concatenation operation along axis=0 </p>
<div class="codehilite"><pre><span></span>np.concatenate((arr6,arr7),axis=0)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10],
       [11, 12, 13, 14, 15],
       [16, 17, 18, 19, 20]])
</pre></div>


<p>Concatenation operation along axis=1</p>
<div class="codehilite"><pre><span></span>np.concatenate((arr6,arr7), axis=1)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1,  2,  3,  4,  5, 11, 12, 13, 14, 15],
       [ 6,  7,  8,  9, 10, 16, 17, 18, 19, 20]])
</pre></div>


<p>Some other function :</p>
<div class="codehilite"><pre><span></span>np.vstack((arr6,arr7)) # same as np.concatenate() with axis=0
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10],
       [11, 12, 13, 14, 15],
       [16, 17, 18, 19, 20]])
</pre></div>


<p>Now</p>
<div class="codehilite"><pre><span></span>np.hstack((arr6,arr7)) # same as np.cooncatenate() with axis=1
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1,  2,  3,  4,  5, 11, 12, 13, 14, 15],
       [ 6,  7,  8,  9, 10, 16, 17, 18, 19, 20]])
</pre></div>


<p><strong>Now Splitting Operation:</strong></p>
<div class="codehilite"><pre><span></span>arr8= randn(4,4)
arr8
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[  7.08533211e-01,   4.59659578e-01,  -1.57881323e-01,
          1.07929958e+00],
       [ -3.86824405e-01,  -1.64399896e-01,   1.53551098e+00,
          1.15847583e+00],
       [  1.94122163e-01,  -7.44141600e-01,  -4.42922893e-01,
         -2.25669699e-01],
       [ -1.01093857e+00,  -5.21043404e-01,  -7.55925342e-04,
          1.55661573e-01]])
</pre></div>


<p>split() takes array as argument along with size of array to be splited or a array like object of the array size.</p>
<div class="codehilite"><pre><span></span>arr_1= np.split(arr8,1)  #size of arr_1 is 1 which mean arr8 will be divided in one part.
arr_1
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>[array([[ 0.50454954,  0.65916656,  1.69246983,  0.86705127],
        [-0.71989673,  0.37454774, -0.32577363, -0.08872866],
        [ 0.65309926, -0.49518186, -0.73326777,  1.18062482],
        [ 0.9273575 , -1.40040011,  1.65876684, -0.65355634]])]
</pre></div>


<p>Split array in 2 parts:</p>
<div class="codehilite"><pre><span></span>np.split(arr8,2) # the output array will be half-half of arr8
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>[array([[ 0.50454954,  0.65916656,  1.69246983,  0.86705127],
        [-0.71989673,  0.37454774, -0.32577363, -0.08872866]]),
 array([[ 0.65309926, -0.49518186, -0.73326777,  1.18062482],
        [ 0.9273575 , -1.40040011,  1.65876684, -0.65355634]])]
</pre></div>


<p>Split array in 4 parts</p>
<div class="codehilite"><pre><span></span>np.split(arr8,4)  #here if you give the input
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>[array([[ 0.50454954,  0.65916656,  1.69246983,  0.86705127]]),
 array([[-0.71989673,  0.37454774, -0.32577363, -0.08872866]]),
 array([[ 0.65309926, -0.49518186, -0.73326777,  1.18062482]]),
 array([[ 0.9273575 , -1.40040011,  1.65876684, -0.65355634]])]
</pre></div>


<p>Here if you give the size of splitting array 3 instead of 4 then it would through an error <i> ValueError: array split does not result in an equal division </i>
<br>.</p>
<h3>Repeating Elemetns : Tile and Repeat</h3>
<p>To Produce Larger arrays, repeat() and tile() functions are used. <br>
repeat replicates each element in an array some number of times, producing a larger array.</p>
<div class="codehilite"><pre><span></span>arr9= np.arange(4)
arr9
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([0, 1, 2, 3])
</pre></div>


<p>Repeat every element 2 times</p>
<div class="codehilite"><pre><span></span>arr9.repeat(2)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([0, 0, 1, 1, 2, 2, 3, 3])
</pre></div>


<p>Now </p>
<div class="codehilite"><pre><span></span>arr9.repeat([2,3,5,6]) # repeat first element 2 times, second element 3 times , third element 5 times and fourth element 6 time
</pre></div>


<p>Output: </p>
<div class="codehilite"><pre><span></span>array([0, 0, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3])
</pre></div>


<p>For multidimensional Array</p>
<div class="codehilite"><pre><span></span>arr10= randn(2,2)
arr10
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[-0.31851426,  2.01991533],
       [-0.13367267,  1.00630383]])
</pre></div>


<p>Repeat element which is on axis=0</p>
<div class="codehilite"><pre><span></span>arr10.repeat(2,axis=0)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[-0.31851426,  2.01991533],
       [-0.31851426,  2.01991533],
       [-0.13367267,  1.00630383],
       [-0.13367267,  1.00630383]])
</pre></div>


<p>Repeat element which is on axis=1</p>
<div class="codehilite"><pre><span></span>arr10.repeat(2,axis=1)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[-0.31851426, -0.31851426,  2.01991533,  2.01991533],
       [-0.13367267, -0.13367267,  1.00630383,  1.00630383]])
</pre></div>


<p>Similarly you can pass an array of integers when repeating a multidimensional array to repeat a given slice a different number of times:</p>
<div class="codehilite"><pre><span></span>arr10.repeat([2,4],axis=0)  # which row to be repeated(2nd) and
the no of times(4 time) the row to be repeated
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1.1676876 ,  0.73187928],
       [ 1.1676876 ,  0.73187928],
       [ 1.19650763, -0.85104547],
       [ 1.19650763, -0.85104547],
       [ 1.19650763, -0.85104547],
       [ 1.19650763, -0.85104547]])
</pre></div>


<p>For Columns</p>
<div class="codehilite"><pre><span></span>arr10.repeat([1,3],axis=1) # same for columns( 1st column repeated 3 times)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1.1676876 ,  0.73187928,  0.73187928,  0.73187928],
       [ 1.19650763, -0.85104547, -0.85104547, -0.85104547]])
</pre></div>


<p>Now </p>
<div class="codehilite"><pre><span></span>arr10.repeat([0,3], axis=1) #here it will repeat column=0
and discard column 1 in output
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 0.73187928,  0.73187928,  0.73187928],
       [-0.85104547, -0.85104547, -0.85104547]])
</pre></div>


<p><b> <i> tile </i> </b> on the other hand, is a shortcut for stacking copies of an array along an axis.</p>
<div class="codehilite"><pre><span></span>arr10
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1.1676876 ,  0.73187928],
       [ 1.19650763, -0.85104547]])
</pre></div>


<p>Now</p>
<div class="codehilite"><pre><span></span>np.tile(arr10,2) # the second argument is the number of
tiles ( a scalar or a tuple). When the second argument to tile is
tuple it indicate the layout of the tiling.
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1.1676876 ,  0.73187928,  1.1676876 ,  0.73187928],
       [ 1.19650763, -0.85104547,  1.19650763, -0.85104547]])
</pre></div>


<p><b> The tiling is made row by row, rather than column by column. </b></p>
<div class="codehilite"><pre><span></span>np.tile(arr10,(2,2))  #row repeated 2 times, column repeated 2 times.
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1.1676876 ,  0.73187928,  1.1676876 ,  0.73187928],
       [ 1.19650763, -0.85104547,  1.19650763, -0.85104547],
       [ 1.1676876 ,  0.73187928,  1.1676876 ,  0.73187928],
       [ 1.19650763, -0.85104547,  1.19650763, -0.85104547]])
</pre></div>


<p>another example:</p>
<div class="codehilite"><pre><span></span>np.tile(arr10,(3,2)) # row repeated 3 times, column repeated 2 times.
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1.1676876 ,  0.73187928,  1.1676876 ,  0.73187928],
       [ 1.19650763, -0.85104547,  1.19650763, -0.85104547],
       [ 1.1676876 ,  0.73187928,  1.1676876 ,  0.73187928],
       [ 1.19650763, -0.85104547,  1.19650763, -0.85104547],
       [ 1.1676876 ,  0.73187928,  1.1676876 ,  0.73187928],
       [ 1.19650763, -0.85104547,  1.19650763, -0.85104547]])
</pre></div>


<h3>Broadcasting</h3>
<p>Broadcasting describes how arithmetic works between arrays of different shapes. It is a very powerful feature.</p>
<div class="codehilite"><pre><span></span>arr3
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
       17])
</pre></div>


<p>Simple broadcasting:</p>
<div class="codehilite"><pre><span></span>arr3*6
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([  0,   6,  12,  18,  24,  30,  36,  42,  48,  54,  60,  66,  72,
        78,  84,  90,  96, 102])
</pre></div>


<p>Here the scalar value 6 has been broadcast to all of other elements in the multiplication operation.</p>
<h6>The Broadcasting Rule</h6>
<p>Two arrays are compatible for broadcasting if for each trailing dimension, (that is, starting from the end ) the axis lengths match or if either of the lengths is 1. Broadcasting is then performed over the missing and / or length 1 dimensions.</p>
<div class="codehilite"><pre><span></span>arr11= randn(2,3)
arr11
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 0.15897943,  0.21914698,  1.16865214],
       [-0.1779596 , -1.55740588, -1.40536907]])
</pre></div>


<p>another numpy array
    arr12= randn(6,2)
    arr12</p>
<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 0.61632769,  1.43608023],
       [ 0.12357505, -0.70171185],
       [-0.32430931, -0.15066942],
       [-1.14900472, -0.24824113],
       [-1.25776788, -1.55733187],
       [-0.73411425,  0.76859758]])
</pre></div>


<p>Now try this</p>
<div class="codehilite"><pre><span></span>arr11 + arr12
</pre></div>


<p>this will give ValueError: operands could not be broadcast together with shapes (2,3) (6,2)
so We have to reshape the arr11 before addition.
As according to Broadcasting rule to make addition along axis-1 the smaller array should have a shape of (6,1).</p>
<div class="codehilite"><pre><span></span>print arr11.reshape(6,1)+ arr12
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span><span class="k">[[-0.52834331 -1.57587648]</span>
 <span class="k">[-2.0897029  -1.69842965]</span>
 <span class="k">[-0.56482399 -0.74702429]</span>
 <span class="k">[-1.02085944 -0.45111874]</span>
 <span class="k">[-0.86002779  0.90505302]</span>
 <span class="k">[ 0.29465825  0.86799132]]</span>
</pre></div>


<p>Check</p>
<div class="codehilite"><pre><span></span>arr12
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 0.61632769,  1.43608023],
       [ 0.12357505, -0.70171185],
       [-0.32430931, -0.15066942],
       [-1.14900472, -0.24824113],
       [-1.25776788, -1.55733187],
       [-0.73411425,  0.76859758]])
</pre></div>


<p>Check the mean along axis=0</p>
<div class="codehilite"><pre><span></span>arr12.mean(0)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([-0.45421557, -0.07554607])
</pre></div>


<p>Subtraction in Broadcasting:</p>
<div class="codehilite"><pre><span></span>arr12 - arr12.mean(0)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[ 1.07054326,  1.51162631],
       [ 0.57779062, -0.62616578],
       [ 0.12990626, -0.07512334],
       [-0.69478915, -0.17269506],
       [-0.80355231, -1.48178579],
       [-0.27989868,  0.84414366]])
</pre></div>


<p>Boolean operation in Broadcasting:</p>
<div class="codehilite"><pre><span></span>arr12[arr12 &gt; 0]
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([ 0.61632769,  1.43608023,  0.12357505,  0.76859758])
</pre></div>


<p>Check the mean along axis=1</p>
<div class="codehilite"><pre><span></span>arr12.mean(1)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([ 1.02620396, -0.2890684 , -0.23748936, -0.69862292, -1.40754987,
        0.01724166])
</pre></div>


<p>Now Check this</p>
<div class="codehilite"><pre><span></span>arr12 - arr12.mean(1)
</pre></div>


<p>By doing this will through a ValueError: operands could not be broadcast together with shapes (6,2) (6,)
because According to the rules, to subtract over axis 1 (that is, subtract the row mean from each row), the smaller array must have shape  (6, 1).</p>
<p>so Let's reshape the mean</p>
<div class="codehilite"><pre><span></span>arr12 - arr12.mean(1).reshape(6,1)
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>array([[-0.40987627,  0.40987627],
       [ 0.41264345, -0.41264345],
       [-0.08681994,  0.08681994],
       [-0.45038179,  0.45038179],
       [ 0.14978199, -0.14978199],
       [-0.75135592,  0.75135592]])
</pre></div>


<p>Note : for Broadcasting purpose, numpy.newaxis() method can be used.</p>
<p>To know more about Broadcasting below post will be helpful to read.
<a href="http://scipy.github.io/old-wiki/pages/EricsBroadcastingDoc">http://scipy.github.io/old-wiki/pages/EricsBroadcastingDoc</a></p>
<p>Got any improvement in this post, Hit Email me.</p>
		</p>
		<small class="post_date">Published On : 2016-12-15</small>

		<a href="https://twitter.com/share" class="twitter-share-button" data-size="large" data-show-count="false">Tweet</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
	
		<script src="//platform.linkedin.com/in.js" type="text/javascript"> lang: en_US</script>
		<script type="IN/Share"></script>


		
	</div>

<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
//this.page.url = ;   Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = '/posts/Advance NumPy Part-I'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//sajjan-xyz.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>





<footer class="footer">
      <div class="container">
        <p class="text-muted"> </p>
        Let's Talk!
        Connect on <a href="https://twitter.com/sajjkum" target="_blank">Twitter</a> , <a href=""https://www.linkedin.com/in/sajjan-kumar-a38187a6" target="_blank"">LinkedIn </a>, or <a href="mailto:sajjankumar@gmail.com" target="_blank">Email me </a>.
        
      </div>
</footer>

</body>
</html>
